#[include mmu/base/*.cfg]
#[include mmu/optional/client_macros.cfg]
#[include shell_command.cfg]
[include mainsail.cfg]
[include include/steppers.cfg]
[include include/fans.cfg]
[include include/bed.cfg]
#[include include/sensorless.cfg]f
#[include include/quickdraw.cfg]
[include include/led.cfg]
[include include/macros.cfg]
#[include mmu/mmu_vars.cfg]
#[include include/trad_rack_optional.cfg]
[include toolhead.cfg]




[safe_z_home]
home_xy_position: 165, 165
z_hop: 10

[z_tilt] 
z_positions: #Nozzle to GE5C
  -80,  -20
  350, -20
points:
  15, 150
  275, 150
speed: 50
horizontal_move_z: 10
retries: 30
retry_tolerance: 0.1

[input_shaper]
shaper_type_x = zv
shaper_freq_x = 120.6
shaper_type_y = zv
shaper_freq_y = 76.6


[scanner]
##serial: /dev/serial/by-id/usb-Cartographer_614e_01002B001043303856303820-if00
canbus_uuid: 40f7e3acf7b7
#adjust to suit your scanner 
#serial: /dev/serial/by-id/usb-cartographer_cartographer_
x_offset: 0                          
#adjust for your offset
y_offset: 21.1                         
#adjust for your offset
calibration_method: touch 
sensor: cartographer
sensor_alt: carto
#alternate name to call commands. CARTO_TOUCH etc
#scanner_touch_z_offset: 0.05         
#this is the default and will be overwritten and added to the DO NOT SAVE area by using UI to save z offset
#retries: 100




[printer]
kinematics: corexy
max_velocity: 3000
max_accel: 50000
#max_accel_to_decel: 5000
max_z_velocity: 3000
max_z_accel: 10000
square_corner_velocity: 10

[exclude_object]

[gcode_arcs] # OrcaSlicer
resolution: 1.0


[idle_timeout]

# only turn off heaters and motors if the printer is not paused
gcode:
    {% if not printer.pause_resume.is_paused %}
        TURN_OFF_HEATERS
        M84
    {% endif %}

[pause_resume]
recover_velocity: 350



[virtual_sdcard]
path: /home/pi/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

[mcu]
#USB
#serial: /dev/serial/by-id/usb-Klipper_stm32h723xx_0F003B001751313338343730-if00
#reconnect_interval: 9999
canbus_uuid: 0297e0a453a6


# Driver6
#[extruder]
#nozzle_diameter: 0.500
#pressure_advance: 0.025
#pressure_advance_smooth_time: 0.03
#max_extrude_only_distance: 101

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	-0.203010, -0.221303, -0.196988, -0.212238, -0.183128, -0.195221, -0.164287, -0.172546, -0.142158, -0.135889, -0.118733, -0.108767, -0.112607, -0.089433, -0.110931, -0.084991, -0.109922, -0.068573, -0.102316, -0.074526, -0.082494, -0.076359, -0.055386, -0.054786, -0.028542
#*# 	-0.237041, -0.220795, -0.220491, -0.213876, -0.203836, -0.188498, -0.183882, -0.157919, -0.157304, -0.127252, -0.131848, -0.099881, -0.114982, -0.095827, -0.079834, -0.106140, -0.083559, -0.098908, -0.077177, -0.092441, -0.079886, -0.076717, -0.067987, -0.064669, -0.043213
#*# 	-0.253592, -0.236020, -0.233371, -0.230592, -0.206655, -0.208556, -0.179120, -0.182924, -0.145311, -0.156316, -0.112186, -0.131550, -0.107538, -0.086218, -0.115895, -0.082099, -0.114469, -0.076358, -0.105718, -0.077654, -0.101860, -0.067840, -0.085438, -0.071127, -0.047760
#*# 	-0.252713, -0.240497, -0.226791, -0.219850, -0.197745, -0.188752, -0.184138, -0.174247, -0.158098, -0.139210, -0.127717, -0.111491, -0.094272, -0.106025, -0.089467, -0.102320, -0.083179, -0.100016, -0.082112, -0.097307, -0.079432, -0.087360, -0.079910, -0.071922, -0.059728
#*# 	-0.262858, -0.235357, -0.241822, -0.218406, -0.199094, -0.189064, -0.177355, -0.187791, -0.149824, -0.152243, -0.111435, -0.122865, -0.085022, -0.112608, -0.092637, -0.094785, -0.093665, -0.070084, -0.108084, -0.075653, -0.104307, -0.069605, -0.088119, -0.067151, -0.076404
#*# 	-0.258248, -0.242144, -0.231469, -0.218504, -0.195923, -0.193730, -0.184979, -0.175246, -0.157729, -0.138608, -0.121370, -0.105505, -0.092190, -0.096585, -0.090445, -0.092252, -0.092212, -0.098918, -0.075317, -0.088273, -0.092080, -0.084771, -0.090533, -0.072749, -0.061757
#*# 	-0.263561, -0.243432, -0.230681, -0.230156, -0.216992, -0.208047, -0.184395, -0.199489, -0.155688, -0.146742, -0.139690, -0.095584, -0.094939, -0.097330, -0.110567, -0.084398, -0.116135, -0.100753, -0.103930, -0.102693, -0.099055, -0.100931, -0.083877, -0.099550, -0.063937
#*# 	-0.259721, -0.246366, -0.239882, -0.234570, -0.224049, -0.211344, -0.195654, -0.181575, -0.162894, -0.144785, -0.126161, -0.106605, -0.093259, -0.093919, -0.100312, -0.105724, -0.105616, -0.096903, -0.120779, -0.103104, -0.106503, -0.104748, -0.109272, -0.099667, -0.074083
#*# 	-0.264107, -0.248212, -0.245751, -0.238681, -0.229011, -0.216172, -0.189518, -0.192080, -0.154747, -0.139813, -0.142807, -0.100778, -0.099182, -0.094719, -0.101718, -0.113947, -0.117737, -0.120611, -0.109095, -0.140458, -0.124416, -0.111102, -0.130409, -0.101764, -0.099611
#*# 	-0.253522, -0.240190, -0.226580, -0.227265, -0.221252, -0.204885, -0.186726, -0.168074, -0.150662, -0.135398, -0.118604, -0.099117, -0.077627, -0.074161, -0.085289, -0.103243, -0.113722, -0.118597, -0.119095, -0.121422, -0.126431, -0.125625, -0.118648, -0.124023, -0.083710
#*# 	-0.235582, -0.237899, -0.220394, -0.217469, -0.218778, -0.193795, -0.184364, -0.176752, -0.141782, -0.150825, -0.128343, -0.084358, -0.074267, -0.054558, -0.060076, -0.109193, -0.104098, -0.118530, -0.134351, -0.114965, -0.134320, -0.148000, -0.118164, -0.132337, -0.103630
#*# 	-0.236583, -0.224603, -0.220490, -0.216153, -0.208323, -0.195133, -0.177791, -0.159512, -0.145306, -0.126619, -0.113865, -0.071940, -0.031778, -0.031598, -0.035827, -0.085794, -0.119425, -0.114328, -0.134113, -0.142489, -0.127292, -0.154582, -0.146740, -0.107527, -0.134223
#*# 	-0.229927, -0.221428, -0.221270, -0.218465, -0.211342, -0.199088, -0.191816, -0.163578, -0.159568, -0.150796, -0.105980, -0.076452, -0.028142, -0.002237, -0.042605, -0.085814, -0.121631, -0.137475, -0.143780, -0.148283, -0.158594, -0.172476, -0.143654, -0.149562, -0.145460
#*# 	-0.227871, -0.210498, -0.216820, -0.209904, -0.209778, -0.196241, -0.187647, -0.174310, -0.160156, -0.138248, -0.100918, -0.039392, -0.008428, 0.026177, -0.009425, -0.085907, -0.109480, -0.144447, -0.155986, -0.164527, -0.168264, -0.171491, -0.168125, -0.145253, -0.173198
#*# 	-0.214702, -0.213988, -0.205385, -0.211605, -0.206781, -0.190497, -0.192456, -0.173749, -0.175050, -0.137745, -0.101743, -0.041579, 0.015217, 0.006214, -0.016079, -0.082011, -0.129566, -0.156644, -0.170098, -0.176189, -0.173177, -0.184431, -0.181914, -0.177453, -0.165822
#*# 	-0.205795, -0.203128, -0.207848, -0.203944, -0.200892, -0.190449, -0.181827, -0.173934, -0.160265, -0.140353, -0.095406, -0.030240, 0.021597, 0.029522, -0.016499, -0.092955, -0.115423, -0.167528, -0.160408, -0.178719, -0.195285, -0.180062, -0.198038, -0.171472, -0.196956
#*# 	-0.190854, -0.186891, -0.191176, -0.191408, -0.188745, -0.186746, -0.180272, -0.171612, -0.161154, -0.140953, -0.095084, -0.041165, 0.021459, 0.004672, -0.024095, -0.085973, -0.152462, -0.149194, -0.185868, -0.185215, -0.191648, -0.195492, -0.195207, -0.190447, -0.189301
#*# 	-0.177953, -0.180069, -0.181853, -0.181183, -0.184008, -0.181428, -0.178884, -0.172220, -0.165081, -0.149726, -0.103149, -0.052538, -0.003082, -0.001308, -0.049334, -0.106775, -0.129992, -0.181675, -0.162384, -0.203657, -0.199285, -0.192792, -0.212261, -0.192849, -0.216354
#*# 	-0.174308, -0.179255, -0.184478, -0.186583, -0.188177, -0.189256, -0.187454, -0.180187, -0.169849, -0.153986, -0.123650, -0.073933, -0.035692, -0.034764, -0.075991, -0.128846, -0.165289, -0.182717, -0.195038, -0.206217, -0.215132, -0.219225, -0.221399, -0.221537, -0.210392
#*# 	-0.167824, -0.178651, -0.190040, -0.194155, -0.200928, -0.201932, -0.200415, -0.194179, -0.181987, -0.169557, -0.146527, -0.112315, -0.081186, -0.080966, -0.115961, -0.159904, -0.190143, -0.205175, -0.214918, -0.225170, -0.234229, -0.240117, -0.241878, -0.242783, -0.243838
#*# 	-0.170658, -0.177779, -0.190923, -0.200492, -0.208335, -0.205818, -0.207362, -0.200909, -0.189144, -0.177955, -0.163096, -0.141806, -0.123337, -0.136489, -0.136981, -0.199692, -0.194213, -0.221616, -0.231762, -0.239824, -0.248749, -0.256506, -0.272305, -0.253102, -0.261364
#*# 	-0.164832, -0.176426, -0.189800, -0.198044, -0.210568, -0.212550, -0.210657, -0.208905, -0.199407, -0.190818, -0.176178, -0.180109, -0.154184, -0.175722, -0.170970, -0.216889, -0.211968, -0.218780, -0.258343, -0.233881, -0.272863, -0.258203, -0.282106, -0.269020, -0.295068
#*# 	-0.168318, -0.174886, -0.187522, -0.200909, -0.210020, -0.214259, -0.210111, -0.214725, -0.209909, -0.199273, -0.207272, -0.185482, -0.192675, -0.194913, -0.205626, -0.220167, -0.234300, -0.245018, -0.238989, -0.279164, -0.257850, -0.279887, -0.300972, -0.282305, -0.286741
#*# 	-0.167645, -0.176033, -0.191714, -0.204123, -0.217151, -0.222650, -0.224147, -0.225507, -0.223881, -0.224992, -0.215931, -0.221577, -0.209875, -0.213134, -0.239511, -0.228969, -0.264633, -0.269242, -0.252555, -0.293858, -0.285373, -0.284692, -0.314518, -0.308451, -0.319535
#*# 	-0.176405, -0.179696, -0.199148, -0.217448, -0.228208, -0.237685, -0.241319, -0.241271, -0.238090, -0.237759, -0.243427, -0.234614, -0.241538, -0.244218, -0.240021, -0.275681, -0.273597, -0.270116, -0.304628, -0.302067, -0.312076, -0.334823, -0.317424, -0.335818, -0.329246
#*# x_count = 25
#*# y_count = 25
#*# mesh_x_pps = 3
#*# mesh_y_pps = 3
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 10.0
#*# max_x = 310.0
#*# min_y = 22.0
#*# max_y = 260.0
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 28.181
#*# pid_ki = 2.646
#*# pid_kd = 75.031
#*#
#*# [scanner model default]
#*# model_coef = 1.3357636265422272,
#*# 	1.7488174695635592,
#*# 	0.7080846901983332,
#*# 	0.2945985399847782,
#*# 	0.5306860497704499,
#*# 	0.7154881837210455,
#*# 	-0.43200913666175605,
#*# 	-0.7850143349862161,
#*# 	0.4071971418163549,
#*# 	0.4773491283666746
#*# model_domain = 3.189115360809845e-07,3.368794656000337e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 25.668592
#*# model_offset = 0.00000
#*#
#*# [scanner]
#*# scanner_touch_threshold = 4500
#*# scanner_touch_z_offset = 0.100
